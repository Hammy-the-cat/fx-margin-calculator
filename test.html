<!DOCTYPE html>
<html>
<head>
    <title>クラス登録テスト</title>
    <style>
        body { padding: 20px; font-family: Arial, sans-serif; }
        button { padding: 10px 20px; margin: 10px; font-size: 16px; }
        .test-area { border: 1px solid #ccc; padding: 20px; margin: 20px 0; }
        .classes-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; }
        .class-card { border: 1px solid #999; padding: 10px; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>クラス登録機能テスト</h1>
    
    <div class="test-area">
        <h2>学年別クラス登録</h2>
        <button onclick="addGrade(1)">1年生クラス追加</button>
        <button onclick="addGrade(2)">2年生クラス追加</button>
        <button onclick="addGrade(3)">3年生クラス追加</button>
        <button onclick="showAllClasses()">全クラス表示</button>
        <button onclick="clearClasses()">クリア</button>
    </div>
    
    <div class="test-area">
        <h3>登録されたクラス</h3>
        <div id="classes-display" class="classes-grid"></div>
    </div>

    <script>
        // 簡単なクラス管理システム
        let classes = [];

        function addGrade(grade) {
            console.log(`Adding grade ${grade} classes...`);
            
            // 既存の同学年クラスを削除
            classes = classes.filter(c => c.grade !== grade);
            
            // 新しく15クラスを追加
            for (let classNum = 1; classNum <= 15; classNum++) {
                const className = `${grade}-${classNum}組`;
                classes.push({
                    id: `${grade}-${classNum}`,
                    name: className,
                    grade: grade,
                    students: 30,
                    type: 'regular',
                    active: true
                });
            }
            
            console.log(`Total classes: ${classes.length}`);
            renderClasses();
        }

        function renderClasses() {
            const container = document.getElementById('classes-display');
            container.innerHTML = '';
            
            classes.forEach(cls => {
                const div = document.createElement('div');
                div.className = 'class-card';
                div.innerHTML = `
                    <strong>${cls.name}</strong><br>
                    生徒数: ${cls.students}人<br>
                    状態: ${cls.active ? '有効' : '無効'}
                `;
                container.appendChild(div);
            });
            
            console.log(`Rendered ${classes.length} classes`);
        }

        function showAllClasses() {
            console.log('All classes:', classes);
        }

        function clearClasses() {
            classes = [];
            renderClasses();
        }
    </script>
</body>
</html>